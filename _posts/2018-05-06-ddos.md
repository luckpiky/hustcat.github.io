---
layout: post
title: 云端的抗DDOS技术
date: 2018-05-06 21:30:30
categories: DDOS
tags: DDOS
excerpt: 阿里/华为等大厂在云端如何抗D
---


## DDOS高防IP
![image](\assets\ddos\1.png)


这个是华为官方给出的产品介绍中的图，从中可以看到业务流量首先是需要引到抗D节点中，然后通过目的IP地址转发到实际的业务节点上（实际业务节点看到的源IP应该是被改为抗D节点中的IP）。流量在经过抗D节点时，节点中的抗D设备对流量及进行清洗。
基本的思路是拿大带宽来抗D，经过清洗后，到达实际业务节点时，大部分攻击流量应该已经被清晰掉了。  

阿里的基本思路也是一模一样，见：https://help.aliyun.com/knowledge_detail/40541.html

引流的方式：Web业务需要用户将DNS（Domain Name Server）域名指向该IP，非Web业务需要将业务IP变更为高防IP。  
  
信息通知：当域名受到DDoS攻击时，如果用户需要接收提醒消息（短信或Email），可以设置告警通知。  

超过弹性带宽后的处理：若攻击峰值大于客户选定的弹性防护带宽，则客户的高防IP将被拉进黑洞，即客户无法使用该高防IP对外提供服务。  

华为最低价格，一个月一个电信IP，10G防护带宽：4600 （BGP 8700）
阿里最低价格，一个月一个BGP IP，10G防护带宽：8800



## 游戏盾
![image](\assets\ddos\2.png)

游戏盾与前面的高防IP不同，高防IP是静态的，且靠带宽硬扛。游戏盾通过分布式的抗D节点，将黑客的攻击进行有效的拆分和调度，使得攻击无法集中到某一个点上。同时基于SDK端数据、流量数据，可以通过动态的调度策略将黑客隔离。

![image](\assets\ddos\3.png)
采用分层处理机制。分为用户层（应该指加密通信），网络层（应该指分组内IP的调度），接入层（对流量的分析和抗D），业务层（通过云平台与真实的业务服务器隔离，从客户端是看不到真是服务器的）。

典型的接入场景  
![image](\assets\ddos\4.png)

